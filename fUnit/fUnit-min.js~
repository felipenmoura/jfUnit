var e=false;
fUnit={k:0,i:0,B:[],j:"html",g:e,b:e,c:null,log:function(a){this.B.push(a);console&&console.log(a)},N:function(a){vals=a.parentNode.getElementsByTagName("table")[0];if(vals.style.display=="none"){a.innerHTML="hide values";vals.style.display=""}else{a.innerHTML="see values";vals.style.display="none"}},D:function(){var a=fUnit.k+fUnit.i,b=fUnit.k*100/a;fUnit.F=(new Date).getTime();fUnit.H=fUnit.F-fUnit.G;fUnit.p=document.createElement("div");fUnit.n.appendChild(fUnit.p);fUnit.p.style.color="white";
b=b<100?b.toFixed(1):"100";document.getElementById("fUnitDivHTMLElement_percentBar").style.width=b+"%";document.getElementById("fUnitDivHTMLElement_percent").innerHTML=b+"%";fUnit.p.innerHTML="Finished: "+a+" tests &nbsp; | "+fUnit.k+" passes &nbsp; | "+fUnit.i+" failures &nbsp; | "+b+"% &nbsp; in "+fUnit.H+"ms";if(fUnit.i>0){fUnit.b.style.borderColor="red";fUnit.b.style.WebkitBoxShadow="0px 0px 16px red";fUnit.b.style.I="0px 0px 16px red"}else fUnit.b.style.borderColor="#44a"},C:function(a){a.status=
"passed";a.t();fUnit.k++},A:function(a,b){a.status="failed";a.f=b;a.s();fUnit.i++},K:function(a){fUnit.j=a.j||fUnit.j;fUnit.g=a.g||fUnit.g;fUnit.name=a.name||""},h:[],u:function(a,b){for(el in a)if(undefined===b[el]||(fUnit.c.w?typeof b[el]!=typeof a[el]:b[el]!=a[el])){retType=(typeof a[el]).toLowerCase();if(typeof a[el]=="function"&&typeof b[el]=="function"){if(a[el].name!=b[el].name){if(fUnit.d){fUnit.c.f="Missing method '"+(a[el].name||b[el].name)+"'";fUnit.d=!fUnit.d}else fUnit.c.f="Extra method '"+
(a[el].name||b[el].name)+"'";return e}}else{var c="",d=a[el],f=b[el];if(typeof f=="string")f='"'+f+'"';if(typeof d=="string")d='"'+d+'"';if(fUnit.d){c=f;f=d;d=c}c=isNaN(el)?b[el]?"Property '"+el+"' does not match:":fUnit.d?"extra property '"+el+"'":"Property '"+el+"' is missing":b[el]?"Index '"+el+"' has a different value:":fUnit.d?"Extra index '"+el+"'":"Index '"+el+"' is missing";fUnit.c.f=c+"<div style='cursor:pointer;margin-left:30px;float:right' onclick='fUnit.toggleDetailes(this);'>see values</div><table style='width:100%; display:none;'><tr><td style='-webkit-box-shadow:2px 0px 4px #777; width:50%;'>"+
(f||"Null")+"</td><td style='-webkit-box-shadow:-2px 0px 4px #777; padding-left:8px;'>"+(d||"Null")+"</td></tr></table>";if(fUnit.d)fUnit.d=!fUnit.d;return e}}return true},z:function(a,b){retType=(typeof a).toLowerCase();switch(retType){case "string":case "numeric":case "number":case "boolean":case "regexp":if(a!=b)return fUnit.c.f=e;return true}if(msg=fUnit.u(a,b)){fUnit.d=true;return fUnit.u(b,a)}else return msg},v:function(){fUnit.i=0;fUnit.k=0;fUnit.G=(new Date).getTime();if(fUnit.j=="html"){if(!fUnit.b){fUnit.b=
document.createElement("div");with(fUnit.b.style){border="solid 4px #44a";backgroundColor="#44a";paddingLeft="4px";paddingRight="12px";paddingBottom="4px";fontFamily="Sans-Serif";color="#444";borderRadius=MozBorderRadius=webkitBorderRadius="8px";boxShadow=MozBoxShadow=webkitBoxShadow="1px 1px 8px #444"}fUnit.b.id="fUnitDivHTMLElementRoot"}var a="<table style='width:100%;'>";a+="<tr><td style='width:180px;font-size:16px; font-weight:bold; color:#f0f0f0;'>fUnit test battery</td>";a+="<td>";a+="<div style='background-color:red; height:8px; width:100%;border:solid 1px #444; -webkit-box-shadow:6px 0px 20px #99f; -moz-box-shadow:6px 0px 20px #99f;'>";
a+="<div style='background-color:#0d0; height:8px; width:0%;border-right:solid 1px #000;' id='fUnitDivHTMLElement_percentBar'></div>";a+="</div>";a+="</td><td style='width:46px;text-align:right;color:white;' id='fUnitDivHTMLElement_percent'>0%";a+="</td></tr>";a+="</table>";fUnit.b.innerHTML=a;fUnit.b.innerHTML+="<div id='fUnitDivHTMLElement'> </div>";fUnit.g=fUnit.g||document.body;fUnit.g.appendChild(fUnit.b);fUnit.n=document.getElementById("fUnitDivHTMLElement")}a=null;for(test in this.h){test=
this.h[test];fUnit.c=test;a=[];var b="(test.func)(",c="";for(x in test.e){a.push(test.e[x]);argVal=test.e[x];if(typeof argVal=="string")c=argVal.indexOf('"')?"'":'"';b+=(a.length>1?", ":"")+c+test.e[x]+c}b+=");";c=eval(b);(message=fUnit.z(c,test.m))==true?fUnit.C(test):fUnit.A(test,fUnit.c.f);if(fUnit.n&&fUnit.j=="html"){a=document.createElement("div");a.style.backgroundColor="#efefef";a.style.padding="4px";a.style.marginTop="0px";a.style.marginBottom="1px";a.style.width="100%";a.onmouseover=function(){this.style.backgroundColor=
"#fff"};a.onmouseout=function(){this.style.backgroundColor="#efefef"};dvStats="<div style='width:16px; height:16px; margin-right:4px;-webkit-box-shadow: 0px 0px 4px #444;-moz-box-shadow: 0px 0px 4px #444;box-shadow: 0px 0px 4px #444;-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px;border:solid 1px #777; float:left; background-color:"+(test.status=="passed"?"#bfb":"f66")+";'> </div>";if(test.status=="passed")a.innerHTML=dvStats+test.a+(!test.description||test.description==""?"":": <i>"+
test.description+"</i>");else{b=test.m;c=c;b=typeof b=="string"?'"'+b+'"':b.toString();c=typeof c=="string"?'"'+c+'"':c.toString();a.innerHTML=dvStats+test.a+": <b>expected:</b> "+b+" <b> received: </b>"+c+(!test.description||test.description==""?"":": <i>"+test.description+"</i>");if(fUnit.c.f)a.innerHTML+='<br/><b style="float:left;">diff:</b> <div style="padding:2px;margin-left:30px; white-space: pre; font-style: italic; border-left:dashed 1px #777;"> '+fUnit.c.f+"</div>"}fUnit.n.appendChild(a)}test.l&&
test.l(test.status);fUnit.log(test.status)}fUnit.D();return true},test:function(){fUnit.v()},M:function(){fUnit.v()},J:function(){var a=Array.prototype.slice.call(arguments),b,c={l:function(){},o:null,a:"",description:"",r:"passed",q:"failed",s:function(){},t:function(){},e:[],w:e};if(typeof arguments[0]=="object"){a=arguments[0];for(b in a)switch(b){case "callBack":case "callback":c.l=a[b];break;case "call":case "method":case "func":c.o=a[b];break;case "funcName":case "funcname":case "name":c.a=
a[b];break;case "expected":c.m=a[b];break;case "description":c.description=a[b];break;case "okMessage":case "success":case "ok":c.r=a[b];break;case "failMessage":case "fail":c.q=a[b];break;case "onFail":c.s=a[b];break;case "onSuccess":c.t=a[b];break;case "structureOnly":c.w=a[b];break;default:c.e[b]=a[b]}}else{arguments.length<2&&this.log("Invalid parameters");var d=a.pop();if(typeof d!="function"){c.m=d;d=e}else c.m=a.pop();c.l=d;c.o=a.shift();c.e=[];for(b in a)c.e[b]=a[b];c.a=c.o.name;c.description=
"";c.r="";c.q=""}if(c.a=="")c.a="test_"+(this.h.length+1);if(fUnit.h[c.a]){b=c.a;for(a=0;fUnit.h[b];){a++;b=c.a+"_"+a}c.a=b}fUnit.h[c.a]=c},L:function(){}};
